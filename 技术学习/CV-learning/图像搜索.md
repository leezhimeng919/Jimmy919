[如何利用文本挖掘技术对基于图像视觉内容进行图像搜索]
# 基于内容的图像检索CBIR
- Content-Based Image Retrieval

## 从文本挖掘中获取灵感————矢量空间模型
- 矢量空间模型是一个用于表示和搜索文本文档的模型
- 这些矢量由文本词频直方图构成，包含了每个单词出现的次数
- 通过单词计数来构建文档直方图向量v，从而建立文档索引
- 会忽略掉一些常用词，"这"、"和"、"是"等称为停用词
- 词频-逆向文档频率tf-idf

## 视觉单词
- SIFT局部描述子实现视觉等效单词
    + 思想：将描述子空间量化成一些典型实例，并将图像中的每个描述子指派到其中的某个实例中。这些实例可以通过分析训练图像集确定，并被视为 **视觉单词** 。所有这些视觉单词构成的集合成为 **视觉词汇** ，有时也称为 **视觉码本**
- 创建词汇
    + 提取特征描述子

## 图像索引
- 创建词汇
    + imlist
    + vovabulary.pkl
- 建立数据库
    + 在搜索图像前，我们需要建立一个数据库。对图像进行索引就是从这些图像中提取描述子，利用词汇将描述子转换成视觉单词，并保存视觉单词及对应图像的单词直方图，从而可以利用图像对数据库进行查询，并返回相似的图像作为搜索结果。
    + 使用SQLite作为数据库
        `pip3 install sqlite3`
        + 需要一个包含三个表单的简单数据库模式
            * imlist：包含所有要索引的图像文件名
                - rowid
                - filename
            * imwords：包含了一个那些单词的单词索引、用到了哪个词汇、以及单词出现在哪些图像中
                - imid
                - wordid
                - vocname
            * imhistograms：包含了全部每幅图像的单词直方图
                - imid
                - histogram
                - vocname

- 添加图像

## 在数据库中搜索图像
- 利用索引获取候选图像
- 用一幅图像进行查询
- 退订对比基准并绘制结果

## 使用几何特性对结果排序

